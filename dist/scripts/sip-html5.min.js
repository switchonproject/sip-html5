angular.module("eu.water-switch-on.sip",["eu.water-switch-on.sip.controllers","eu.water-switch-on.sip.directives","eu.water-switch-on.sip.services","eu.water-switch-on.sip.filters","eu.water-switch-on.sip.factories","de.cismet.cids.services","ui.router","ui.bootstrap.tpls","ngResource"]).config(["$stateProvider","$urlRouterProvider",function(a,b){"use strict";b.otherwise("/list"),a.state("list",{url:"/list",templateUrl:"views/listView.html"}),a.state("th",{url:"/th",templateUrl:"views/thumbnailView.html"}),a.state("map",{url:"/map",templateUrl:"views/mapView.html"}),a.state("profile",{url:"/profile",templateUrl:"views/profileView.html"}),a.state("login",{url:"/login",templateUrl:"views/loginView.html"})}]),angular.module("eu.water-switch-on.sip.controllers",["ui.bootstrap.dropdown","ui.bootstrap.alert","ui.bootstrap.modal","mgcrea.ngStrap.popover","ui.bootstrap.accordion","leaflet-directive","ui.bootstrap.progressbar","ui.bootstrap.buttons"]),angular.module("eu.water-switch-on.sip.controllers").controller("eu.water-switch-on.sip.controllers.countriesFilterDirectiveController",["$scope","eu.water-switch-on.sip.services.TagGroupService",function(a,b){"use strict";a.filterExpression.selectedCountry=null,a.countryList=b.getCountryList(a.countryGroup),a.$watch("filterExpression.selectedCountry",function(b,c){b&&b!==c&&b.length>0&&a.countryList.hasOwnProperty(b[0])&&a.filterExpression.value!==a.countryList[b[0]]&&(a.filterExpression.value=a.countryList[b[0]],a.filterExpression.displayValue=b[0])})}]),angular.module("eu.water-switch-on.sip.controllers").controller("eu.water-switch-on.sip.controllers.keywordFilterDirectiveController",["$scope","eu.water-switch-on.sip.services.TagGroupService","FilterExpression",function(a,b){"use strict";a.keywordGroup=a.keywordGroup||"keyword-free",a.keywordList=b.getKeywordList(a.keywordGroup)}]),angular.module("eu.water-switch-on.sip.controllers").controller("eu.water-switch-on.sip.controllers.listViewDirectiveController",["$scope","$filter","$modal","$rootScope","ngTableParams","eu.water-switch-on.sip.services.TagGroupService","AppConfig",function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;a.$watch("tableData",function(){k(),a.tableParams.reload()}),h={},h["object.name"]="asc",i={},j=function(a){var b=f.getKeywordList(a);b&&!b.$resolved?b.$promise.then(function(){i[a]=b.join("|").toLowerCase().split("|")}):b&&(i[a]=b.join("|").toLowerCase().split("|"))},k=function(){var b,c,d,e;for(e=[],c=a.filterExpressions.getFilterExpressionsByType("keyword",!0),d=0;d<c.length;d++)b=c[d],b&&b.isValid()&&(b.value.constructor===Array?e=e.concat(b.value.join("|").toLowerCase().split("|")):e.push(b.value.toLowerCase()));i["query-keyword"]=e},j("keyword-cuashi"),a.config=g.listView,a.tableParams=new e({page:1,count:2,sorting:h},{counts:[],total:1,getData:function(c,d){var e;e=d.sorting()?b("orderBy")(a.tableData,d.orderBy()):a.tableData,c.resolve(e)}}),a.showInfo=function(a){var b,e;e=d.$new(!0),e.object=a,b=c.open({templateUrl:"templates/object-info-modal-template.html",controller:"eu.water-switch-on.sip.controllers.objectInfoModalController",scope:e,size:"lg",backdrop:"static"})},a.showDownload=function(a){var b,e;e=d.$new(!0),e.object=a,b=c.open({templateUrl:"templates/object-download-modal-template.html",controller:"eu.water-switch-on.sip.controllers.objectDownloadModalController",scope:e,size:"lg",backdrop:"static"})},a.isHighlightKeyword=function(a,b){return void 0!==b&&i.hasOwnProperty(a)?i[a].indexOf(b.toLowerCase())>-1:!1}}]),angular.module("eu.water-switch-on.sip.controllers").controller("eu.water-switch-on.sip.controllers.mapViewDirectiveController",["$scope","$window","$timeout","leafletData","de.cismet.cids.services.featureRendererService","AppConfig",function(a,b,c,d,e,f){"use strict";var g,h,i,j,k,l,m,n,o,p;p=f.mapView,angular.extend(a,{defaults:{tileLayer:p.backgroundLayer,path:{weight:10,color:"#800000",opacity:1}}}),h=function(c){a.currentHeight=b.innerHeight-100,a.currentWidth=b.innerWidth-(a.isResultShowing?250:0),d.getMap("mainmap").then(function(a){a.invalidateSize(c)})},a.currentHeight=b.innerHeight-100,a.currentWidth=b.innerWidth-(a.isResultShowing?250:0),a.$watch("isResultShowing",function(){c(function(){h(!0)},500)}),a.center=p.home,angular.element(b).bind("resize",function(){h(!1)}),j=L.Icon.extend({options:{shadowUrl:null,iconAnchor:new L.Point(16,31),iconSize:new L.Point(32,32),iconUrl:"images/search_point_icon_32.png"}}),o=new Wkt.Wkt,l=new L.FeatureGroup,g=new L.Control.Draw({draw:{polyline:{shapeOptions:{color:"#800000"}},polygon:{shapeOptions:{color:"#800000"}},rectangle:{shapeOptions:{color:"#800000"}},circle:!1,marker:{icon:new j}},edit:{featureGroup:l}}),d.getMap("mainmap").then(function(b){b.addLayer(l),b.addControl(g),b.on("draw:created",function(a){n(a.layer)}),b.on("draw:deleted",function(b){b.layers.eachLayer(function(b){b===a.searchGeomLayer&&n(null)})})}),n=function(b){l.removeLayer(a.searchGeomLayer),a.searchGeomLayer=b,null!==b&&l.addLayer(a.searchGeomLayer),a.centerSearchGeometry&&l.getLayers().length>0&&d.getMap("mainmap").then(function(b){b.fitBounds(l.getBounds(),{animate:!0,pan:{animate:!0,duration:.6},zoom:{animate:!0},maxZoom:a.preserveZoomOnCenter?b.getZoom():null})})},i=!1,a.$watch("searchGeomLayer",function(b,c){var d;i?i=!1:void 0!==b&&b!==c&&(null===b?d="":(o.fromObject(b),d=o.write()),i=!0,a.searchGeomWkt=d,a.searchGeomTitle=o.type)}),a.$watch("searchGeomWkt",function(b,c){if(i)i=!1;else if(b&&b!==c)try{o.read(b),i=!0,n(o.toObject({color:"#800000",icon:new j}))}catch(d){}else null===b&&(l.removeLayer(a.searchGeomLayer),a.searchGeomLayer=void 0)}),k=new L.FeatureGroup,d.getMap("mainmap").then(function(a){k.addTo(a)}),m=function(b){var c,f;for(k.clearLayers(),c=0;c<b.length;++c)f=e.getFeatureRenderer(b[c]),k.addLayer(f);a.centerObjects&&k.getLayers().length>0&&d.getMap("mainmap").then(function(b){b.fitBounds(k.getBounds(),{animate:!0,pan:{animate:!0,duration:.6},zoom:{animate:!0},maxZoom:a.preserveZoomOnCenter?b.getZoom():null})})},a.$watch("objects",function(a,b){a&&a!==b&&m(a)}),a.objects&&m(a.objects),a.$watch("selectedObject",function(b){-1!==b&&a.centerObjects&&k.getLayers().length>b&&d.getMap("mainmap").then(function(c){var d=k.getLayers()[b];d.setStyle({fillOpacity:.4,fill:!0,fillColor:"#1589FF"}),c.fitBounds(d.getBounds(),{animate:!0,pan:{animate:!0,duration:.6},zoom:{animate:!0},maxZoom:a.preserveZoomOnCenter?c.getZoom():null})})})}]),angular.module("eu.water-switch-on.sip.controllers").controller("eu.water-switch-on.sip.controllers.masterController",["$scope","$state","FilterExpressions","FilterExpression","eu.water-switch-on.sip.services.TagGroupService","AppConfig",function(a,b,c,d,e,f){"use strict";a.config=f,a.data={},a.data.message="Welcome to the SWITCH-ON Spatial Information Platform!",a.data.messageType="success",a.data.selectedObject=-1,a.data.categories=e.getKeywordList("keyword-cuashi-toplevel"),a.isResultShowing=!1,a.state=b,a.filterExpressions=c,a.geoFilterExpression=new d("geo"),a.filterExpressions.addFilterExpression(a.geoFilterExpression),a.categoriesFilterExpression=new d("keyword-cuashi",[],!0),a.filterExpressions.addFilterExpression(a.categoriesFilterExpression),a.data.resultSet=null,a.data.resultObjects=[],a.activateView=function(a){b.go(a,{})},a.toggleResultView=function(){a.isResultShowing=!a.isResultShowing},a.doCloseMessage=function(){a.data.message=null},a.showMessage=function(b,c){a.data.message=b,a.data.messageType=c},a.$watch("data.searchGeomWkt",function(b,c){void 0!==b&&b!==c&&(a.filterExpressions.geo||(a.filterExpressions.geo=new d("geo")),a.filterExpressions.geo.value=b,a.filterExpressions.geo.displayValue="GEOMETRY FROM MAP")}),a.$watch("data.resultSet.$collection",function(b,c){var d,e;if(b&&b!==c){for(e=[],d=0;d<b.length;++d)e.push(b[d].object);a.data.resultObjects=e,a.data.resultSet.$total=b.length,a.data.selectedObject=-1}})}]),angular.module("eu.water-switch-on.sip.controllers").controller("eu.water-switch-on.sip.controllers.myProfileDirectiveController",["$scope","eu.water-switch-on.sip.services.sessionService",function(a,b){"use strict";a.user=b.getCurrentUser()}]),angular.module("eu.water-switch-on.sip.controllers").controller("eu.water-switch-on.sip.controllers.myWorkspaceDirectiveController",["$scope","$state","$timeout","eu.water-switch-on.sip.services.sessionService",function(a,b,c,d){"use strict";a.user=d.getCurrentUser(),a.sessionService=d,a.status={},a.status.isopen=!1,a.status.scheduleOpen=!1,a.showProfile=function(){b.go("profile",{})},a.popup=function(b){b?(a.status.scheduleOpen=!0,c(function(){a.status.scheduleOpen===!0&&(a.status.isopen=!0),a.status.scheduleOpen=!1},300)):(a.status.scheduleOpen=!1,a.status.isopen=!1)}}]),angular.module("eu.water-switch-on.sip.controllers").controller("eu.water-switch-on.sip.controllers.objectDownloadModalController",["$scope","$modalInstance",function(a,b){"use strict";var c;for(a.reps=a.object.representation?a.object.representation:[],c=0;c<a.reps.length;++c)a.reps[c]._status={open:0===c?!0:!1};a.closeDownloadView=function(){b.close()}}]),angular.module("eu.water-switch-on.sip.controllers").controller("eu.water-switch-on.sip.controllers.objectInfoModalController",["$scope","$modalInstance",function(a,b){"use strict";a.closeInfoView=function(){b.close()}}]),angular.module("eu.water-switch-on.sip.controllers").controller("eu.water-switch-on.sip.controllers.resultSetDirectiveController",["$scope",function(a){"use strict";a.$watch("selectedObject",function(a){console.log(a)})}]),angular.module("eu.water-switch-on.sip.controllers").controller("eu.water-switch-on.sip.controllers.searchFilterRibbonDirectiveController",["$scope","FilterExpression",function(a,b){"use strict";var c,d;a.keywordsFilterExpression=new b("keyword",[],!0),a.filterExpressions.addFilterExpression(a.keywordsFilterExpression),a.topicFilterExpression=new b("topic"),a.filterExpressions.addFilterExpression(a.topicFilterExpression),a.fromDateFilterExpression=new b("fromDate"),a.filterExpressions.addFilterExpression(a.fromDateFilterExpression),a.toDateFilterExpression=new b("toDate"),a.filterExpressions.addFilterExpression(a.toDateFilterExpression),a.geoIntersectsFilterExpression=new b("geo-intersects","false"),a.filterExpressions.addFilterExpression(a.geoIntersectsFilterExpression),a.geoBufferFilterExpression=new b("geo-buffer",0),a.filterExpressions.addFilterExpression(a.geoBufferFilterExpression),a.limitFilterExpression=new b("limit",5),a.filterExpressions.addFilterExpression(a.limitFilterExpression),a.topicFilterExpression.getDisplayValue=function(){return this.value&&this.value.length>0?this.value[0]:this.value},a.geoIntersectsFilterExpression.getDisplayValue=function(){return this.value?"intersect":"enclose"},a.geoBufferFilterExpression.getDisplayValue=function(){return this.value?this.value<1e3?this.value+"m":this.value/1e3+"km":"0m"},c=a.filterExpressions.getFilterExpressionsByType("geo"),c&&c.length>0?a.geoFilterExpression=c[0]:(console.warn("geo filter expression not correctly initialized!"),a.geoFilterExpression=new b("geo",[],!0),a.filterExpressions.addFilterExpression(a.geoFilterExpression)),d=a.filterExpressions.getFilterExpressionsByType("keyword-cuashi"),d&&d.length>0?a.keywordsCuashiFilterExpression=d[0]:(console.warn("keyword-cuashi filter expression not correctly initialized!"),a.keywordsCuashiFilterExpression=new b("keyword-cuashi",[],!0),a.filterExpressions.addFilterExpression(a.keywordsCuashiFilterExpression)),a.clear=function(){a.filterExpressions.clear(),a.filterExpressions.fromDate=null,a.filterExpressions.toDate=null}}]),angular.module("eu.water-switch-on.sip.controllers").controller("eu.water-switch-on.sip.controllers.usbDirectiveController",["$scope","$rootScope","$modal","eu.water-switch-on.sip.services.SearchService","FilterExpression",function(a,b,c,d,e){"use strict";var f,g;g={current:0,max:0,type:null},a.status=g,a.customFilterExpression="",a.pattern=/(^[A-Za-z_\-]+):"([\s\S]+)"$/,f=function(b,c,d){g.max=c,g.type=d,-1===c&&"success"===d?(a.notificationFunction&&a.notificationFunction({message:"Search for resources is in progress.",type:"info"}),g.current=b):b>0&&c>b&&"success"===d?g.current=b/c*100:b===c&&"success"===d?(b>0?(g.current=100,a.notificationFunction&&a.notificationFunction({message:"Search completed, "+b+(b>1?" ressources":" resource")+" found in the SWITCH-ON Meta-Data Repository",type:"success"})):(g.current=0,a.notificationFunction&&a.notificationFunction({message:"Search completed, but no matching resources found in the SWITCH-ON Meta-Data Repository",type:"warning"})),a.progressModal&&a.progressModal.close()):"error"===d&&(a.notificationFunction&&a.notificationFunction({message:"Search could not be perfomed: "+a.resultSet.$error,type:"danger"}),a.progressModal&&a.progressModal.close())},a.clear=function(){a.filterExpressions.clear()},a.getTagIcon=function(a){switch(a){case e.FILTER__KEYWORD:return"glyphicon glyphicon-tags";case e.FILTER__KEYWORD_CUASHI:return"glyphicon glyphicon-copyright-mark";case e.FILTER__TOPIC:return"glyphicon glyphicon-tag";case e.FILTER__GEO:return"glyphicon glyphicon-globe";case e.FILTER__DATE_START:return"glyphicon glyphicon-chevron-left";case e.FILTER__DATE_END:return"glyphicon glyphicon-chevron-right";case e.FILTER__TEXT:return"glyphicon glyphicon-pencil";case e.FILTER__GEO_INTERSECTS:return"glyphicon glyphicon-log-out";case e.FILTER__GEO_BUFFER:return"glyphicon glyphicon-record";case e.FILTER__OPTION_LIMIT:return"glyphicon glyphicon-indent-right";case e.FILTER__CATEGORY:return"glyphicon glyphicon-bookmark";default:return"glyphicon glyphicon-flash"}},a.getTagStyle=function(a){switch(a){case e.FILTER__KEYWORD:return"label-success";case e.FILTER__KEYWORD_CUASHI:return"label-info";case e.FILTER__TOPIC:return"label-success";case e.FILTER__GEO:return"label-success";case e.FILTER__DATE_START:return"label-success";case e.FILTER__DATE_END:return"label-success";case e.FILTER__TEXT:return"label-info";case e.FILTER__GEO_INTERSECTS:return"label-warning";case e.FILTER__GEO_BUFFER:return"label-warning";case e.FILTER__OPTION_LIMIT:return"label-warning";case e.FILTER__CATEGORY:return"label-success";default:return"label-default"}},a.performSearch=function(b){b.$invalid&&console.log('This filter expression is not valid. Try expression:"parameter", e.g. keyword:"water quality"'),a.resultSet=d.search(a.filterExpressions.universalSearchString,25,0,f),a.showProgress(g)},a.showProgress=function(d){var e;e=b.$new(!0),e.status=d,a.progressModal=c.open({templateUrl:"templates/search-progress-modal-template.html",scope:e,size:"lg",backdrop:"static"}),a.progressModal.opened.then(function(){"error"===d.type&&a.progressModal.close()})},a.$watch("universalSearchBox.filterExpressionInput.$invalid",function(){!a.universalSearchBox.filterExpressionInput.$error.required&&a.universalSearchBox.filterExpressionInput.$invalid&&a.notificationFunction({message:'This search filter expression is not valid. Please use expression:"parameter", e.g. keyword:"water quality".',type:"warning"})}),a.$watch("filterExpressions.list",function(){a.enumeratedTags=a.filterExpressions.enumerateTags()},!0),a.$watch("customFilterExpression",function(b){if(b){var c,d,f,g,h;c=b.split(a.pattern),d=c[1],f=c[2],d&&f?(-1===e.FILTERS.indexOf(d)&&a.notificationFunction({message:'The search filter "'+d+'" is unknown. The search may deliver unexpected results.',type:"info"}),h=a.filterExpressions.getFilterExpressionsByType(d),!h||h.length<1?(g=new e(d),g.value=f,g.displayValue=f,a.filterExpressions.addFilterExpression(g)):(g=h[0],g.isMultiple()?g.setArrayValue(f):(g.value=f,g.displayValue=f),a.notificationFunction({message:'Search filter "'+d+'" successfully applied.',type:"success"}))):a.notificationFunction({message:'The search filter expression "'+b+'" entered is not valid. Try expression:"parameter", e.g. keyword:"water quality"',type:"warning"}),a.customFilterExpression=""}})}]),angular.module("eu.water-switch-on.sip.directives",["ngTable","ui.bootstrap.tabs","ui.bootstrap.typeahead","mgcrea.ngStrap.tooltip"]),angular.module("eu.water-switch-on.sip.directives").directive("countriesFilter",[function(){"use strict";return{restrict:"E",templateUrl:"templates/countries-filter-directive.html",scope:{filterExpression:"=",countryGroup:"@"},controller:"eu.water-switch-on.sip.controllers.countriesFilterDirectiveController"}}]),angular.module("eu.water-switch-on.sip.directives").directive("dateFilter",[function(){"use strict";return{restrict:"E",templateUrl:"templates/datefilter-directive.html",scope:{fromDateFilterExpression:"=",toDateFilterExpression:"="}}}]),angular.module("eu.water-switch-on.sip.directives").directive("keywordFilter",[function(){"use strict";return{restrict:"E",templateUrl:"templates/keyword-filter-directive.html",scope:{filterExpression:"=",keywordGroup:"@"},controller:"eu.water-switch-on.sip.controllers.keywordFilterDirectiveController"}}]),angular.module("eu.water-switch-on.sip.directives").directive("listView",[function(){"use strict";return{restrict:"E",templateUrl:"templates/list-view-directive.html",scope:{filterExpressions:"=",tableData:"="},controller:"eu.water-switch-on.sip.controllers.listViewDirectiveController"}}]),angular.module("eu.water-switch-on.sip.directives").directive("mapView",[function(){"use strict";return{restrict:"E",templateUrl:"templates/map-view-directive.html",scope:{searchGeomWkt:"=",searchGeomTitle:"=",centerSearchGeometry:"=",preserveZoomOnCenter:"=",objects:"=",centerObjects:"=",selectedObject:"="},controller:"eu.water-switch-on.sip.controllers.mapViewDirectiveController"}}]),angular.module("eu.water-switch-on.sip.directives").directive("myProfile",[function(){"use strict";return{restrict:"E",templateUrl:"templates/my-profile-directive.html",scope:{},controller:"eu.water-switch-on.sip.controllers.myProfileDirectiveController"}}]),angular.module("eu.water-switch-on.sip.directives").directive("myWorkspace",[function(){"use strict";return{restrict:"E",templateUrl:"templates/my-workspace-directive.html",scope:{workspaceName:"@",showMessage:"&"},controller:"eu.water-switch-on.sip.controllers.myWorkspaceDirectiveController"}}]),angular.module("eu.water-switch-on.sip.directives").directive("resultset",[function(){"use strict";return{restrict:"E",templateUrl:"templates/resultset-directive.html",scope:{resultSet:"=",selectedObject:"="},controller:"eu.water-switch-on.sip.controllers.resultSetDirectiveController"}}]),angular.module("eu.water-switch-on.sip.directives").directive("searchFilterRibbon",[function(){"use strict";return{restrict:"E",templateUrl:"templates/search-filter-ribbon-directive.html",scope:{filterExpressions:"=",notificationFunction:"&?"},controller:"eu.water-switch-on.sip.controllers.searchFilterRibbonDirectiveController"}}]),angular.module("eu.water-switch-on.sip.directives").directive("searchOptions",[function(){"use strict";return{restrict:"E",templateUrl:"templates/search-options-directive.html",scope:{geoIntersectsFilterExpression:"=",geoBufferFilterExpression:"=",limitFilterExpression:"="}}}]),angular.module("eu.water-switch-on.sip.directives").directive("usb",[function(){"use strict";return{restrict:"E",templateUrl:"templates/usb-directive.html",scope:{filterExpressions:"=",resultSet:"=resourceCollection",notificationFunction:"&?"},controller:"eu.water-switch-on.sip.controllers.usbDirectiveController"}}]),angular.module("eu.water-switch-on.sip.factories").factory("AppConfig",[function(){"use strict";var a={};return a.listView={},a.listView.highlightKeyword="query-keyword",a.listView.filterKeyword="keywords - CUASHI",a.searchService={},a.searchService.username="admin@SWITCHON",a.searchService.password="cismet",a.searchService.host="http://switchon.cismet.de/legacy-rest1",a.mapView={},a.mapView.backgroundLayer="http://{s}.opentopomap.org/{z}/{x}/{y}.png",a.mapView.home={},a.mapView.home.lat=49.245166,a.mapView.home.lng=6.936809,a.mapView.home.zoom=4,a.gui={},a.gui.dev=!1,a}]),angular.module("eu.water-switch-on.sip.factories").factory("FilterExpression",[function(){"use strict";function a(a,b,c,d){if(void 0===a||null===a)throw"The parameter property of a FilterExpression cannot be null!";this.parameter=a,this.defaultValue=void 0===b?null:b,this.value=void 0===b?null:null!==this.defaultValue&&"object"==typeof this.defaultValue?JSON.parse(JSON.stringify(this.defaultValue)):this.defaultValue,this.displayValue=null,this.multiple=void 0===c?!1:c,this.renderer=void 0===d?this.RENDERER__TO_STRING:d}return a.prototype.getDisplayValue=function(){return this.displayValue||this.value},a.prototype.isValid=function(){return this.multiple===!0?this.value&&this.value.constructor===Array&&this.value.length>0:this.value?!0:!1},a.prototype.getFilterExpressionString=function(){var a,b,c,d;if(d=function(a,b){var c=a+':"'+b+'"';return c},this.isValid())if(this.isMultiple())for(b=this.value.length,c=0;b>c;c++)0===c?a=d(this.parameter,this.value[c]):(a+=" ",a+=d(this.parameter,this.value[c]));else a=d(this.parameter,this.value);return a},a.prototype.setArrayValue=function(a){return this.isMultiple()&&(this.value||(this.value=[]),-1===this.value.indexOf(a))?(this.value.push(a),!0):!1},a.prototype.isMultiple=function(){return this.multiple===!0},a.prototype.clear=function(){this.value=null!==this.defaultValue&&"object"==typeof this.defaultValue?JSON.parse(JSON.stringify(this.defaultValue)):this.defaultValue,this.displayValue=null},a.prototype.enumerateTags=function(){function a(){return function(){e.origin.isMultiple()?e.origin.value.splice(e.index,1):e.origin.value=null}}var b,c,d,e;if(b=[],this.isValid()&&this.value!==this.defaultValue)if(this.isMultiple())for(d=this.value.length,c=0;d>c;c++)e={},e.name=this.value[c],e.type=this.parameter,e.origin=this,e.index=c,e.remove=a(!0),b.push(e);else e={},e.name=this.getDisplayValue(),e.type=this.parameter,e.origin=this,e.remove=a(!1),b.push(e);return b},a.RENDERER__TO_STRING="renderer_tostring",a.FILTER__GEO="geo",a.FILTER__GEO_INTERSECTS="geo-intersects",a.FILTER__GEO_BUFFER="geo-buffer",a.FILTER__KEYWORD="keyword",a.FILTER__KEYWORD_CUASHI="keyword-cuashi",a.FILTER__TOPIC="topic",a.FILTER__CATEGORY="category",a.FILTER__DATE_START="fromDate",a.FILTER__DATE_END="toDate",a.FILTER__OPTION_LIMIT="limit",a.FILTER__TEXT="text",a.FILTERS=[a.FILTER__GEO,a.FILTER__GEO_INTERSECTS,a.FILTER__GEO_BUFFER,a.FILTER__KEYWORD,a.FILTER__KEYWORD_CUASHI,a.FILTER__TOPIC,a.FILTER__CATEGORY,a.FILTER__DATE_START,a.FILTER__DATE_END,a.FILTER__OPTION_LIMIT,a.FILTER__OPTION_LIMIT,a.FILTER__TEXT],Object.defineProperties(a.prototype,{valid:{get:function(){return this.isValid()}}}),a}]),angular.module("eu.water-switch-on.sip.services").factory("FilterExpressions",["FilterExpression",function(a){"use strict";var b={};return b.list=[],Object.defineProperties(b,{universalSearchString:{get:function(){var b,c,d,e,f;for(b=Object.keys(this.list),c=b.length,d="",e=0;c>e;e++)f=this.list[b[e]],f instanceof a&&f.isValid()&&(0===d.length?d=f.getFilterExpressionString():d+=" "+f.getFilterExpressionString());return d},set:function(a){console.warn("Attempt to set value of universalSearchString to "+a+" is not supported by FilterExpression Class")}}}),b.clear=function(){var c,d,e,f;for(c=Object.keys(b.list),d=c.length,e=0;d>e;e++)f=b.list[c[e]],f instanceof a&&f.clear()},b.addFilterExpression=function(c){return c instanceof a?(b.list.push(c),!0):!1},b.removeFilterExpression=function(a){var c,d;for(c=!1,d=b.list.length-1;d>=0;d--)b.list[d]===a&&(b.list.splice(d,1),c=!0);return c},b.getFilterExpressionsByType=function(a,c){var d,e,f;for(f=[],e=b.list.length,d=0;e>d;d++)c&&-1!==b.list[d].parameter.indexOf(a)?f.push(b.list[d]):b.list[d].parameter===a&&f.push(b.list[d]);return f},b.enumerateTags=function(){var a,c,d,e,f;for(e=[],a=b.list.length,c=0;a>c;c++)d=b.list[c],f=d.enumerateTags(),f.length>0&&(e=e.concat(f));return e},b}]),angular.module("eu.water-switch-on.sip.factories",[]),angular.module("eu.water-switch-on.sip.filters",[]),angular.module("eu.water-switch-on.sip.filters").filter("txtLen",function(){"use strict";var a,b;return a=/[-\/\\^$*+?.()|[\]{}]/g,b=function(b,c){return new RegExp("["+b.replace(a,"\\$&")+"]",c)},function(a,c,d,e,f,g){var h,i,j,k,l,m,n;if(!a||void 0===c||null===c)return null;if(c>=a.length)m=a;else if(h=void 0===d||null===d?!1:d,k=void 0===e||null===e?"[...]":e,i=void 0===f||null===f?!1:f,j=void 0===g||null===g?".!?;:":g,i&&0===c)l=a.match(b(j,"")),m=l?l.index>=a.length-1?a:a.substr(0,l.index+1)+" "+k:k;else{if(m=a.substr(0,c-k.length),i){for(n=b(j,"g"),l=0;null!==n.exec(m.substr(0,m.length-1));)l=n.lastIndex;l>0&&(m=m.substr(0,l+1)+" ")}h?m+=k:(l=m.match(/\s+\w*$/),l?m=m.substr(0,l.index+1)+k:m+=k)}return m}}),angular.module("eu.water-switch-on.sip.services",[]),angular.module("de.cismet.cids.services",[]),angular.module("de.cismet.cids.services").factory("de.cismet.cids.services.featureRendererService",[function(){"use strict";var a,b;return b=new Wkt.Wkt,a=function(a){var c,d;return d=null,a&&a.$self&&"/switchon.resource"===a.$self.substr(0,18).toLowerCase()&&a.spatialcoverage&&a.spatialcoverage.geo_field&&(c=a.spatialcoverage.geo_field,b.read(c.substr(c.indexOf(";")+1)),d=b.toObject({color:"#000000",fill:!1,weight:1})),d},{getFeatureRenderer:a}}]),angular.module("eu.water-switch-on.sip.services").factory("eu.water-switch-on.sip.services.MockService",["$resource",function(a){"use strict";var b,c,d,e,f,g,h,i,j,k;return b=a("data/resultSet.json",{}),c=a("data/cuashiKeywords.json",{},{query:{method:"GET",params:{},isArray:!0}}),d=a("data/inspireKeywords.json",{},{query:{method:"GET",params:{},isArray:!0}}),e=a("data/inspireTopics.json",{},{query:{method:"GET",params:{},isArray:!0}}),f=a("data/keywords.json",{},{query:{method:"GET",params:{},isArray:!0}}),g=a("data/countriesEurope.json",{},{query:{method:"GET",params:{},isArray:!1}}),h=a("data/countriesWorld.json",{},{query:{method:"GET",params:{},isArray:!1}}),i=function(){return b.get()},j=function(a){switch(a){case"cuashi_keyword":return c.query();case"inspire_keyword":return d.query();case"inspire_topic":return e.query();case"keyword":return f.query();default:return null}},k=function(a){switch(a){case"countries_world":return h.query();case"countries_europe":return g.query();default:return null}},{search:i,loadKeywordList:j,loadCountriesList:k}}]),angular.module("eu.water-switch-on.sip.services").factory("eu.water-switch-on.sip.services.SearchService",["$resource","eu.water-switch-on.sip.services.Base64","$q","AppConfig",function(a,b,c,d){"use strict";var e,f,g,h;return e=d.searchService,f=b.encode(e.username+":"+e.password),g=a(e.host+"/searches/SWITCHON.de.cismet.cids.custom.switchon.search.server.MetaObjectUniversalSearchStatement/results",{limit:20,offset:0,omitNullValues:!0,deduplicate:!0},{search:{method:"POST",params:{limit:"@limit",offset:"@offset"},isArray:!1,headers:{Authorization:"Basic "+f}}}),h=function(b,d,h,i){var j,k,l,m,n,o,p;return k=angular.noop,j=c.defer(),l={list:[{key:"Query",value:b}]},(i||k)(0,-1,"success"),m={$promise:j.promise,$resolved:!1},o=g.search({limit:d,offset:h},l),p=function(b){var d,g,h;h=b.$collection,g=function(b){var d,g,l,n,p,q,r,s,t,u,v;for(l=[],q=0;q<b.$collection.length;++q)l[b.$collection[q].key]=b.$collection[q].value;for(s=[],p=a(e.host+"/SWITCHON.:classname/:objId",{omitNullValues:!0,deduplicate:!1},{get:{method:"GET",isArray:!1,headers:{Authorization:"Basic "+f}}}),v=0,(i||k)(v,h.length,"success"),u=function(){(i||k)(++v,h.length,"success")},q=0;q<h.length;++q)n=l[h[q].classId],r=h[q].objectId,t=p.get({classname:n,objId:r}).$promise,t["finally"](u),s[q]=t;g=function(a){var b;for(q=0;q<h.length;++q)h[q].object=a[q];for(b in o)!o.hasOwnProperty(b)||"$"===b.charAt(0)&&"$"===b.charAt(1)||(m[b]=o[b]);j.resolve(m)},d=function(a){m.$error="cannot lookup objects",m.$response=a,m.$resolved=!0,j.reject(m),(i||k)(1,1,"error")},c.all(s).then(g,d)},d=function(a){m.$error="cannot lookup class names",m.$response=a,m.$resolved=!0,j.reject(m),(i||k)(1,1,"error")},a(e.host+"/searches/SWITCHON.de.cismet.cids.custom.switchon.search.server.ClassNameSearch/results",{},{exec:{method:"POST",isArray:!1,headers:{Authorization:"Basic "+f}}}).exec({list:[{key:"Domain",value:"SWITCHON"}]}).$promise.then(g,d)},n=function(a){m.$error="cannot search for resources",m.$response=a,m.$resolved=!0,j.reject(m),(i||k)(1,1,"error")},o.$promise.then(p,n),m},{search:h}}]).factory("eu.water-switch-on.sip.services.Base64",function(){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return{encode:function(b){var c,d,e,f,g,h="",i="",j="",k=0;do c=b.charCodeAt(k++),d=b.charCodeAt(k++),i=b.charCodeAt(k++),e=c>>2,f=(3&c)<<4|d>>4,g=(15&d)<<2|i>>6,j=63&i,isNaN(d)?g=j=64:isNaN(i)&&(j=64),h=h+a.charAt(e)+a.charAt(f)+a.charAt(g)+a.charAt(j),c=d=i="",e=f=g=j="";while(k<b.length);return h},decode:function(b){var c,d,e,f,g,h="",i="",j="",k=0,l=/[^A-Za-z0-9\+\/\=]/g;l.exec(b)&&console.error("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),b=b.replace(/[^A-Za-z0-9\+\/\=]/g,"");do e=a.indexOf(b.charAt(k++)),f=a.indexOf(b.charAt(k++)),g=a.indexOf(b.charAt(k++)),j=a.indexOf(b.charAt(k++)),c=e<<2|f>>4,d=(15&f)<<4|g>>2,i=(3&g)<<6|j,h+=String.fromCharCode(c),64!==g&&(h+=String.fromCharCode(d)),64!==j&&(h+=String.fromCharCode(i)),c=d=i="",e=f=g=j="";while(k<b.length);return h}}}),angular.module("eu.water-switch-on.sip.services").factory("eu.water-switch-on.sip.services.sessionService",["$rootScope",function(a){"use strict";var b,c,d,e,f,g;return b="Anonymous",d=function(){return{name:b}},e=function(){return c},f=function(a){return a&&a.name?b===a.name:!1},g=function(b){var d;if(d=c,!b)throw"invalid user: "+b;c=b,a.$broadcast("userChanged",d,c)},g(d()),{getAnonymousUser:d,getCurrentUser:e,isAnonymousUser:f}}]),angular.module("eu.water-switch-on.sip.services").factory("eu.water-switch-on.sip.services.TagGroupService",["$resource",function(a){"use strict";var b,c,d,e,f;return b={"keyword-cuashi":"data/cuashiKeywords.json","keyword-cuashi-toplevel":"data/cuashiToplevelKeywords.json","keyword-inspire":"data/inspireKeywords.json","topic-inspire":"data/inspireTopics.json","keyword-free":"data/freeKeywords.json","country-world":"data/countriesWorld.json","country-europe":"data/countriesEurope.json"},c={},d=function(d,e){if(c.hasOwnProperty(d))return c[d];if(b.hasOwnProperty(d)){var f=a(b[d],{},{query:{method:"GET",params:{},isArray:e}});return c[d]=f.query(),c[d]}return console.warn("unknown  tag group:"+d),null},e=function(a){return d(a,!0)},f=function(a){return d(a,!1)},{getKeywordList:e,getCountryList:f}}]),angular.module("").run(["$templateCache",function(a){"use strict";a.put("templates/countries-filter-directive.html",'<div class="panel panel-default"><div class=panel-body><select name={{countryGroup}} id={{countryGroup}} ng-model=filterExpression.selectedCountry ng-options="country as country for (country, geom) in countryList" class=form-control size=8 multiple></select></div></div>'),a.put("templates/datefilter-directive.html",'<div class="panel panel-default"><div class=panel-heading>Date Filter</div><div class=panel-body><form class=form name=dateFilterBox role=form novalidate><div class=form-group><label for=fromDateField>Start Date:</label><input class=form-control name=fromDateField id=fromDateField type=date placeholder=yyyy-MM-dd ng-model="fromDateFilterExpression.value"></div><div class=form-group><label for=toDateField>End Date:</label><input class=form-control name=toDateField id=toDateField type=date placeholder=yyyy-MM-dd ng-model="toDateFilterExpression.value"></div></form></div></div>'),a.put("templates/keyword-filter-directive.html",'<select name={{keywordGroup}} id={{keywordGroup}} ng-model=filterExpression.value ng-options="keyword for keyword in keywordList" class=form-control size=11 multiple></select>'),a.put("templates/list-view-directive.html",'<table ng-table=tableParams class="table table-striped table-bordered table-hover"><tr ng-repeat="node in $data"><td data-title="\'Name\'" sortable class=name>{{node.object.name}}<td data-title="\'Description\'"><span>{{node.object.description | txtLen:80:false:\'\':true}}</span> <span ng-hide="node.object.description.length < 80"><a ng-click=showInfo(node.object)>...</a></span><td data-title="\'Temporal Extent\'" sortable class=date>{{node.object.fromdate| date: "dd.MM.yyyy"}} - {{node.object.todate| date: "dd.MM.yyyy"}}<td data-title="\'CUASHI Keywords\'" class=tags><span ng-repeat="tag in node.object.tags | orderBy:\'name\'"><span ng-hide="config.filterKeyword && !(tag.taggroup.name === config.filterKeyword)" class=label ng-class="isHighlightKeyword(config.highlightKeyword, tag.name) ? \'label-success\' : \'label-default\'">{{tag.name}}</span></span><td data-title="\'Tools\'" class=tools><span bs-tooltip data-placement=left data-trigger=hover data-delay="{show: 400, hide: 100}" data-title=Info class="btn-invisible btn-icon" ng-click=showInfo(node.object)><i class="glyphicon glyphicon-info-sign"></i></span> <span bs-tooltip data-placement=left data-trigger=hover data-delay="{show: 400, hide: 100}" data-title=Download class=btn-invisible ng-click=showDownload(node.object)><i class="glyphicon glyphicon-download"></i></span></table>'),a.put("templates/map-view-directive.html","<div><leaflet id=mainmap defaults=defaults center=center width={{currentWidth}} height={{currentHeight}}></leaflet></div>"),a.put("templates/my-profile-directive.html",'<div class=page-header style="text-align: center"><h1>You are: <span class="glyphicon glyphicon-user" aria-hidden=true></span> \'{{user.name}}\' <small>However, the profile page is yet to come</small></h1></div><div class=container><div class=row><div class=col-sm-12><div class=thumbnail><img src=images/under_construction_icon-green.svg alt="Under Construction"><div style="margin:auto; width:600px"><h2>This feature is currently under construction!</h2></div></div></div></div></div>'),a.put("templates/my-workspace-directive.html",'<div class="btn-group nav navbar-nav navbar-right" dropdown is-open=status.isopen ng-mouseenter=popup(true) ng-mouseleave=popup(false)><button class="btn btn-xs navbar-btn dropdown-toggle ws-button" data-toggle=dropdown role=button type=button aria-expanded=false ng-click=showProfile()><div>Hello {{user.name}}</div><b>My {{workspaceName}} <span class=caret></span></b></button><ul class="dropdown-menu hoverdropdown" role=menu><li><a ui-sref=profile>My profile</a></li><li class=divider></li><li><a ui-sref=login ng-show=sessionService.isAnonymousUser(user)>Log in</a> <a ui-sref=login ng-hide=sessionService.isAnonymousUser(user)>Not {{user.name}}? Log out</a></li></ul></div>'),a.put("templates/object-download-modal-template.html","<div class=modal-header><h3 class=modal-title>Downloads of {{object.name}}</h3></div><div class=modal-body><div class=container-fluid><accordion close-others=false><accordion-group ng-repeat=\"rep in reps\" is-open=rep._status.open><accordion-heading>{{rep.name}} <i class=\"pull-right glyphicon\" ng-class=\"{'glyphicon-chevron-down': rep._status.open, 'glyphicon-chevron-right': !rep._status.open}\"></i></accordion-heading><div class=row><div class=col-lg-3><label>Temporal resolution:</label></div><div class=col-lg-9>{{rep.temporalresolution || 'n/a'}}</div></div><div class=row><div class=col-lg-3><label>Spatial resolution:</label></div><div class=col-lg-9>{{rep.spatialresolution || 'n/a'}}</div></div><div class=row><div class=col-lg-3><label>Spatial scale:</label></div><div class=col-lg-9>{{rep.spatialscale || 'n/a'}}</div></div><div class=row><div class=col-lg-3><label>Mime type:</label></div><div class=col-lg-9>{{rep.contenttype.name || 'n/a'}}</div></div><div class=row><div class=col-lg-3><label>Data access function:</label></div><div class=col-lg-9>{{rep.function.name || 'n/a'}}</div></div><div class=row><div class=col-lg-3><label>Data access link:</label></div><div class=col-lg-9><a href={{rep.contentlocation}} ng-disabled=!rep.contentlocation>{{rep.contentlocation || 'n/a'}}</a></div></div></accordion-group></accordion></div></div><div class=modal-footer><button class=\"btn btn-primary\" ng-click=closeDownloadView()>OK</button></div>"),a.put("templates/object-info-modal-template.html","<div class=modal-header><h3 class=modal-title>Object info of {{object.name}}</h3></div><div class=modal-body><div class=container-fluid><div class=row><div class=col-lg-3><label>Name:</label></div><div class=col-lg-9>{{object.name}}</div></div><div class=row><div class=col-lg-3><label>Description:</label></div><div class=col-lg-9>{{object.description}}</div></div><div class=row><div class=col-lg-3><label>Keywords:</label></div><div class=col-lg-9><span ng-repeat=\"tag in object.tags\"><span class=\"label label-primary\">{{tag.name}}</span></span></div></div><div class=row><div class=col-lg-3><label>Topic:</label></div><div class=col-lg-9>{{object.topiccategory.name ? object.topiccategory.name : '[none]'}}</div></div><div class=row><div class=col-lg-3><label>Point of Contact:</label></div><div class=col-lg-9>{{object.contact.name ? object.contact.name : '[none]'}} ({{object.contact.organisation ? object.contact.organisation : 'no organisation'}})</div></div><div class=row><div class=col-lg-3><label>Time Range:</label></div><div class=col-lg-9>{{object.fromdate | date: \"dd.MM.yyyy HH:mm:ss 'GMT'Z\"}} - {{object.todate | date: \"dd.MM.yyyy HH:mm:ss 'GMT'Z\"}}</div></div><div class=row><div class=col-lg-3><label>Last modification:</label></div><div class=col-lg-9>{{object.lastmodificationdate | date: \"dd.MM.yyyy HH:mm:ss 'GMT'Z\"}}</div></div><div class=row><div class=col-lg-3><label>Access limitations:</label></div><div class=col-lg-9>{{object.accesslimitations.name ? object.accesslimitations.name : 'unknown'}}</div></div><div class=row><div class=col-lg-3><label>License:</label></div><div class=col-lg-9>{{object.licensestatement ? object.licensestatement : 'unknown'}}</div></div></div></div><div class=modal-footer><button class=\"btn btn-primary\" ng-click=closeInfoView()>OK</button></div>"),a.put("templates/resultset-directive.html",'<div class="panel panel-default"><div class="container nowrap"><strong>Resources</strong> ({{resultSet.$total}})</div><ul class=list-group><li class=list-group-item ng-repeat="node in resultSet.$collection"><span class=btn-link ng-click="$parent.selectedObject = $index">{{node.name}}</span><p style="line-height: normal"><small><small>{{node.object.description | txtLen:80:false:\'...\':true}}</small></small></p></li></ul></div>'),a.put("templates/search-filter-ribbon-directive.html",'<button type=button id=search-filter-directive-button class="btn btn-default navbar-btn navbar-left" template=templates/search-filter-ribbon-popup.html placement=bottom target=#universalSearchBox auto-close=1 bs-popover>Search Filter <span class=caret></span></button>'),a.put("templates/search-filter-ribbon-popup.html",'<div class="popover switchon-ribbon-popover"><div class=arrow></div><h3 class=popover-title ng-bind=title ng-show=title></h3><div class=popover-content><div class=switchon-ribbon><div class=switchon-ribbon-panel><div class="btn-group switchon-keywordgroup" dropdown is-open=keywordFilters.isopen><button type=button class="btn btn-default dropdown-toggle" dropdown-toggle ng-init="keywordFilters.keywordGroup = \'CUASHI Keywords\'" style=width:100%>{{keywordFilters.keywordGroup}} <span class=caret></span></button><ul class=dropdown-menu role=menu><li><label class=btn ng-model=keywordFilters.keywordGroup btn-radio="\'TOPIC Categories\'" ng-click="keywordFilters.isopen = !keywordFilters.isopen">TOPIC Categories</label></li><li><label class=btn ng-model=keywordFilters.keywordGroup btn-radio="\'CUASHI Keywords\'" ng-click="keywordFilters.isopen = !keywordFilters.isopen">CUASHI Keywords</label></li><li><label class=btn ng-model=keywordFilters.keywordGroup btn-radio="\'INSPIRE Keywords\'" ng-click="keywordFilters.isopen = !keywordFilters.isopen">INSPIRE Keywords</label></li><li><label class=btn ng-model=keywordFilters.keywordGroup btn-radio="\'Free Keywords\'" ng-click="keywordFilters.isopen = !keywordFilters.isopen">Free Keywords</label></li></ul></div><keyword-filter ng-show="keywordFilters.keywordGroup === \'TOPIC Categories\'" class=ng-hide filter-expression=topicFilterExpression keyword-group=topic-inspire></keyword-filter><keyword-filter ng-show="keywordFilters.keywordGroup === \'CUASHI Keywords\'" class=ng-hide filter-expression=keywordsCuashiFilterExpression keyword-group=keyword-cuashi></keyword-filter><keyword-filter ng-show="keywordFilters.keywordGroup === \'INSPIRE Keywords\'" class=ng-hide filter-expression=keywordsFilterExpression keyword-group=keyword-inspire></keyword-filter><keyword-filter ng-show="keywordFilters.keywordGroup === \'Free Keywords\'" class=ng-hide filter-expression=keywordsFilterExpression keyword-group=keyword-free></keyword-filter></div><div class="switchon-ribbon-panel last"><search-options geo-intersects-filter-expression=geoIntersectsFilterExpression geo-buffer-filter-expression=geoBufferFilterExpression limit-filter-expression=limitFilterExpression></search-options></div><div class=switchon-ribbon-footer><span bs-tooltip data-placement=left data-trigger=hover data-delay="{show: 400, hide: 100}" data-title=Clear class="btn-invisible btn-icon" ng-click=clear()><i class="glyphicon glyphicon-remove-circle"></i></span> <span>Clear current search filters and options</span></div></div></div></div>'),a.put("templates/search-options-directive.html",'<div class="panel panel-default"><div class=panel-heading>Filter Options</div><div class=panel-body><form name=optionsForm id=optionsForm novalidate><div class=form-group><label for=geoIntersectsOption>Geospatial Search</label><div class=form-inline><div class=radio><label><input name=geoIntersectsOption id=geoIntersectsOption type=radio ng-model=geoIntersectsFilterExpression.value value=true> Intersects</label></div><div class=radio><label><input name=geoEnclosesOption id=geoEnclosesOption type=radio ng-model=geoIntersectsFilterExpression.value value=false> Encloses</label></div></div></div><div class=form-group ng-class="{\'has-error\': optionsForm.geoBufferField.$invalid}"><input type=number class=form-control min=0 max=1000000 ngminlength=1 name=geoBufferField id=geoBufferField placeholder="buffer in meters" ng-model=geoBufferFilterExpression.value></div><div class=form-group ng-class="{\'has-error\': optionsForm.limitField.$invalid}"><label for=limitField>Limit Search Results</label><input type=number class=form-control min=0 max=25 ngminlength=1 name=limitField id=limitField placeholder="# of results" ng-model=limitFilterExpression.value></div></form></div></div>'),a.put("templates/search-progress-modal-template.html",'<div class=modal-header><strong>Please wait, search is in progress.</strong></div><div class=modal-body><progressbar class="progress-striped active" max=200 value=status.current+100 type={{status.type}}></progressbar></div>'),a.put("templates/usb-directive.html",'<div class=switchon-usb><form class="navbar-form navbar-left" name=universalSearchBox id=universalSearchBox role=search novalidate><div class=form-group ng-class="{\'has-error\': !universalSearchBox.filterExpressionInput.$error.required\r\n                         && universalSearchBox.filterExpressionInput.$invalid}"><div class=form-control><span ng-repeat="tag in enumeratedTags"><span class="tag label" ng-class=getTagStyle(tag.type)><span ng-class=getTagIcon(tag.type)></span> {{tag.name}}<a><i ng-click=tag.remove() class="glyphicon glyphicon-remove-circle glyphicon-red"></i></a></span></span> <input name=filterExpressionInput id=filterExpressionInput size=20 placeholder=keyword: ng-model=customFilterExpression ng-pattern=pattern required></div><button ng-click=performSearch(universalSearchBox) ng-disabled="enumeratedTags.length < 1" class="btn btn-primary"><span class="glyphicon glyphicon-search" aria-hidden=true></span></button> <button ng-click=clear() class="btn btn-default">Clear</button></div><p class="help-block error" ng-show="notificationFunction === undefined && !universalSearchBox.filterExpressionInput.$error.required\r\n                        && universalSearchBox.filterExpressionInput.$invalid">This filter expression is not valid. Try <strong>expression</strong><strong>:</strong><i>"parameter"</i>, e.g. keyword:"water quality".</p><p class="help-block info" ng-show="notificationFunction === undefined &&\r\n                        universalSearchBox.filterExpressionInput.$error.required">Please enter a filter expression, e.g. keyword:"water quality".</p></form></div>')
}]);
//# sourceMappingURL=sip-html5.min.js.map